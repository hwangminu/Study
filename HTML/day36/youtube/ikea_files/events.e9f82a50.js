(()=>{(()=>{"use strict";var Ee={},T=(e=>(e[e.STRICTLY_NECESSARY_COOKIES=1]="STRICTLY_NECESSARY_COOKIES",e[e.PERFORMANCE_COOKIES=2]="PERFORMANCE_COOKIES",e[e.FUNCTIONAL_COOKIES=3]="FUNCTIONAL_COOKIES",e[e.TARGETING_COOKIES=4]="TARGETING_COOKIES",e))(T||{});const O=50,R=60;let S=!1;function C(){return new Promise((e,t)=>{if(S||window.ikea.pubsub)return e(window.ikea.pubsub);let o=R;function i(){if(window.ikea&&window.ikea.pubsub)return S=!0,clearTimeout(n),e(window.ikea.pubsub);o--,o===0&&(clearTimeout(n),t(Error(`window.ikea.pubsub was not found after ${o} retries (${R*O} ms)`)))}const n=setTimeout(i,O)})}async function V(e,t){try{(await C()).subscribe(e,t)}catch(r){console.error(r)}}async function ue(e,t){try{(await C()).publish(e,t)}catch(r){console.error(r)}}const de="CART_CLIENT/ADD_TO_CART",b="CART_CLIENT/ADD_TO_CART_INITIATE",Ie="CART_CLIENT/ADD_TO_CART_SUCCESS",Ae="CART_CLIENT/ADD_TO_CART_FAIL",le="FAVOURITE_CLIENT/ADD_TO_FAVOURITES",pe="FAVOURITE_CLIENT/ADD_TO_FAVOURITES_INITIATE",Te="FAVOURITE_CLIENT/ADD_TO_FAVOURITES_SUCCESS",Oe="FAVOURITE_CLIENT/REMOVE_FROM_FAVOURITES",Re="FAVOURITE_CLIENT/REMOVE_FROM_FAVOURITES_INITIATE",Se="FAVOURITE_CLIENT/REMOVE_FROM_FAVOURITES_SUCCESS",Ce="REC/PRODUCT_LOAD",me="EXPERIMENT/READY",Le="ikeaCookieConsent/changed",Pe="ikeaCookieConsent/init",ve="NAVIGATION/POSTALCODE_SET",ge="NAVIGATION/STORE_SET",fe="RANGE/STORE_SELECTED",F=e=>typeof window.ikea=="object"&&typeof window.ikea.cookieConsent=="object"?window.ikea.cookieConsent.hasConsent(e):!0,u=()=>{try{return window.ga.getAll().pop().get("clientId")}catch(e){return null}},m=()=>{const e=G("_ga")||"",r=new RegExp(/^GA1\.[1-2]\.([0-9]+\.[0-9]+)$/).exec(e)||[],[o]=r;return r&&o?o:null},G=e=>{const t=document.cookie.match("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""},we=async()=>{const r=[new URL(window.location.href||"").searchParams.get("rec-userId"),m(),await u()].filter(Boolean);let o=r.find(i=>i==null?void 0:i.startsWith("GA"));return o||(o=(r==null?void 0:r[0])&&`GA1.1.${r==null?void 0:r[0]}`),o},ke=()=>{var e;const t=(e=u())!=null?e:m();return t!=null&&t.startsWith("GA")?t.slice(6):t};var M=Object.defineProperty,x=Object.defineProperties,B=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,P=(e,t,r)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,H=(e,t)=>{for(var r in t||(t={}))K.call(t,r)&&P(e,r,t[r]);if(L)for(var r of L(t))Y.call(t,r)&&P(e,r,t[r]);return e},W=(e,t)=>x(e,B(t)),v;const d=W(H({},{BASE_URL:"https://www.ikea.com",LOCALE:"ko-KR",SITEFOLDER:"kr/ko",ADD_TO_CART_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/addtocart/{product}",ALTERNATIVE_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/alternative/{product}",REPLACEMENT_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/replacements/{product}",BLOB_API_URL:"https://rec.ingka.com/services/kr-prod/v2/blobs/{product}/",BTI_PRODUCTS_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/bti/",BUNDLE_PRODUCT_API_URL:"https://rec.ingka.com/services/kr-prod/v2/bundles/from-item",BUNDLE_CATEGORY_API_URL:"https://rec.ingka.com/services/kr-prod/v2/bundles/from-category",CART_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/cart/",EASY_PICKS_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/easypick/",FAMILY_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/familyprice/",FOR_PRODUCT_LIST_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/for-product-list/",FOR_YOU_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/foryou",FROM_SERIES_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/series/",K8S_CLUSTER_API_KEY:"70fa10e3-43b4-4ee8-b129-5600a2aa9352",K8S_CLUSTER_API_URL:"https://v4.ai.ingka.ikea.net/api/recommendations",NEW_PRODUCTS_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/new/",NLP_PRODUCTS_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/nlp/",OTHERS_ALSO_VIEWED_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/others/{product}",POPULAR_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/popular/",SIMILAR_API_URL:"https://rec.ingka.com/services/kr-prod/v2/items/similar/{product}",GOES_WELL_WITH_API:"https://rec.ingka.com/services/kr-prod/v2/items/goeswellwith/{product}",OPTIMIZELY_SDK_KEY:"8hr89wMDrZvcMQFojb8HE"}),{CART_PAGE_URL:"https://www.ikea.com/kr/ko/shoppingcart/",COUNTRY:(v="kr/ko")==null?void 0:v.split("/")[0],DISABLE_ALL_FRONTEND_ABTEST:!1,DISABLE_CACHED_SIMILAR:!0,DISABLE_PANEL_FOR_YOU:"MISSING_ENV_VAR".DISABLE_PANEL_FOR_YOU==="true",DISABLE_PANEL_STYLE:"MISSING_ENV_VAR".DISABLE_PANEL_STYLE==="true",DISABLE_SHOPPINGCART_EVENT_TRACKING:"MISSING_ENV_VAR".DISABLE_SHOPPINGCART_EVENT_TRACKING==="true",ENABLE_SECOND_CART_PANEL:"MISSING_ENV_VAR".ENABLE_SECOND_CART_PANEL==="true",ENABLE_CART_RECOMMENDATIONS:!0,ENABLE_PANELS:!0,ENABLE_PLP_TOP:"MISSING_ENV_VAR".ENABLE_PLP_TOP==="true",ENABLE_RECENTLY_VIEWED_SPA_LINK:!0,EVENTS_SERVICE_URL:"https://rec.ingka.com/services/event-kr-prod/api/v1/userevents_form",LANG_DIR:"MISSING_ENV_VAR".LANG_DIR||"ltr",NODE_ENV:"production",SHOPPINGLIST_PAGE_URL:"https://www.ikea.com/kr/ko/favourites/",SUPPORTS_POSTAL_CODE:"MISSING_ENV_VAR".SUPPORTS_POSTAL_CODE==="true",VIEW_PIP_CONTAINER_BOTTOM_PANELS:"pip-bundle,pip-container-second,pip-container-third",VIEW_PIP_PRODUCT_BOTTOM_PANELS:"pip-product-first,pip-product-second,pip-product-third",SIK_SEARCH_API_URL:"https://sik.search.blue.cdtapps.com/kr/ko/search-result-page",LIVLIG_BASE_URL:"https://item-sales.livlig.ingka.com",VALIDATE_ZIP_API_URL:"https://api.ingka.ikea.com/address/validateZip",VALIDATE_ZIP_API_KEY:"4SEgr36x8rOZ6vuHoX30FNm3SmWaYev5",OPTIMIZELY_SDK_KEY:"8hr89wMDrZvcMQFojb8HE",AVAILABILITY_CIA_API_URL:"https://api.ingka.ikea.com/cia/availabilities/ru",AVAILABILITY_CIA_API_KEY:"a3243ad8-59ee-4ce9-9fd7-b9017171a43a"});let I;function j(){try{const e="__some_random_key_you_are_not_going_to_use__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function g(){return I===void 0&&(I=j()),I}const f=()=>d.SITEFOLDER.split("/").join(""),$=e=>{if(e){const t=/REC-API-PP-SETUP-01-V\d{1,2}:A/,r=e.toUpperCase().match(t);if(r)return r[0];const o=/REC-API-PP-SETUP-\d\d-V\d{1,2}:B/,i=e.toUpperCase().match(o);if(i)return i[0]}return null},X=()=>{var e;if(g()){const t=f();if(t){const r="rec-usergroup-".concat(t),o=(e=localStorage.getItem(r))!=null?e:"";return $(o)}}return null};var Z=(e=>(e.CATEGORY="cat",e.DETAIL_PAGE="p",e.CHECKOUT="checkout",e.HOME="home",e))(Z||{}),a=(e=>(e.ADD_TO_CART_VIEW="add-to-cart",e.CATEGORY_PAGE_VIEW="category-page-view",e.DETAIL_PAGE_VIEW="detail-page-view",e.SHOPPING_CART_PAGE_VIEW="shopping-cart-page-view",e.HOME_PAGE_VIEW="home-page-view",e.DEFAULT="page-visit",e))(a||{});const q=()=>{const e=new RegExp(/^\/.{2}\/.{2}\/([^/]*)\/.*$/),t=window.location.pathname,r=t.split("/");if(r.includes("shoppingbag")||r.includes("shoppingcart"))return"checkout";const o=e.exec(t),i=o&&o[1];return typeof i=="undefined"?null:i===null?"home":i==="cat"?"cat":i==="p"?"p":null},J=e=>e==="cat"?"category-page-view":e==="p"?"detail-page-view":e==="checkout"?"shopping-cart-page-view":e==="home"?"home-page-view":"page-visit",A=e=>e.replace(/^\D+/g,"");let l=1;const Q=20,N=e=>{if(typeof window.ga!="undefined")e();else{if(l>=Q)return;l=l+1,setTimeout(()=>{N(e)},500)}},z=()=>{const e=window.crypto||window.msCrypto;function t(r){let o;return r==="y"?(o=["8","9","a","b"],o[Math.floor(Math.random()*o.length)]):(o=new Uint8Array(1),e.getRandomValues(o),(o[0]%16).toString(16))}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t)};var ee=Object.defineProperty,w=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,k=(e,t,r)=>t in e?ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oe=(e,t)=>{for(var r in t||(t={}))te.call(t,r)&&k(e,r,t[r]);if(w)for(var r of w(t))re.call(t,r)&&k(e,r,t[r]);return e};const D=({clientId:e,eventPageType:t,productEventDetail:r})=>{var o,i,n;const s=X();return{eventType:t,userInfo:{visitorId:e,userAgent:(o=(navigator!=null?navigator:{}).userAgent)!=null?o:""},eventDetail:oe({uri:(i=window.location.href)!=null?i:"",referrerUri:(n=document.referrer)!=null?n:"",pageViewId:z()},s&&{experimentIds:[s]}),productEventDetail:r}},ne=()=>{if(typeof document!="undefined"){const e=document.querySelector(".js-product-pip[data-product-id]");return e==null?void 0:e.dataset.productId}},he=()=>{if(typeof document!="undefined"){const e=document.querySelector(".js-product-list[data-category]");return e==null?void 0:e.dataset.id}},Ue=e=>e.product_series&&e.product_series!=="no series"?e.product_series:e.product_collections?e.product_collections:"",ie=e=>{var t,r;let o=null,i=null;if(typeof document=="undefined")return null;if(e===a.CATEGORY_PAGE_VIEW){const s=Array.from(document.querySelectorAll('[type="application/ld+json"]')).filter(c=>(c==null?void 0:c.innerHTML.indexOf("itemListElement"))>-1&&(c==null?void 0:c.innerHTML.indexOf("BreadcrumbList"))>-1)[0],_=new RegExp(/([^-]*)\/$/);if(s)i=JSON.parse(s.innerHTML).itemListElement.map(c=>{const E=c.item&&_.exec(c.item),y=E&&E[1];return y!=null?y:null}).filter(c=>!!c);else{const c=_.exec(window.location.pathname),E=c&&c[1];E&&(i=[E])}if(i)return{pageCategories:[{categories:i}]}}if(e===a.DETAIL_PAGE_VIEW){const n=ne();n&&(o=[{id:A(n)}])}if(e===a.SHOPPING_CART_PAGE_VIEW){const n=(t=window==null?void 0:window.Checkout)==null?void 0:t.analytics;let s=[];n&&(n!=null&&n.ecommerceParams)?s=n==null?void 0:n.ecommerceParams.items:n&&(n!=null&&n.persistentParams)&&(s=(r=n==null?void 0:n.persistentParams)==null?void 0:r.items),o=s.map(_=>({id:A(_.id),quantity:_.quantity}))}return o?{productDetails:o}:null},p=d.EVENTS_SERVICE_URL,h=e=>{if(p.length===0)return;const t=new Blob(["userEvent="+encodeURIComponent(JSON.stringify(e))],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(p.concat("?synchronous=true"),t)},se=e=>{const t=u();if(!t)return;const r=e.map(({quantity:i,productNumber:n})=>({quantity:i,id:A(n)})),o=D({clientId:t,eventPageType:a.ADD_TO_CART_VIEW,productEventDetail:{productDetails:r}});h(o)},ce=e=>{se(e.items)},ae=e=>{const t=J(e),r=ie(t),o=u();if(!o||!r&&t===a.CATEGORY_PAGE_VIEW||!r&&t===a.DETAIL_PAGE_VIEW||t===a.SHOPPING_CART_PAGE_VIEW&&d.DISABLE_SHOPPINGCART_EVENT_TRACKING)return;const i=D({clientId:o,eventPageType:t,productEventDetail:r});if(g()&&(t===a.CATEGORY_PAGE_VIEW||t===a.DETAIL_PAGE_VIEW)){const n=f();if(n){const s="rec-page-counter-".concat(n),_=parseInt(localStorage.getItem(s)||"0");localStorage.setItem(s,String(_+1))}}h(i)},_e=()=>{V(b,ce),N(()=>{const e=q();e&&ae(e)})},U=()=>{try{if(p.length===0||!navigator||!navigator.sendBeacon||!F(T.PERFORMANCE_COOKIES))return;window.addEventListener("load",_e)}catch(e){console.error(e)}};window.addEventListener("DOMContentLoaded",()=>{var e;(e=window==null?void 0:window.ikea)!=null&&e.cookieConsent&&typeof window.ikea.cookieConsent=="object"&&Object.keys(window.ikea.cookieConsent.status||{}).length===0?document.addEventListener("ikeaCookieConsent",()=>{U()}):U()})})();})();

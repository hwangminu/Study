!function(e){function t(t){for(var r,o,i=t[0],c=t[1],l=t[2],u=0,h=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(d&&d(t);h.length;)h.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},s={0:0},n=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/kr/ko/search/";var i=window.searchboxwebpackJsonp=window.searchboxwebpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;n.push([10,2]),a()}([,function(e,t,a){const r=e=>Boolean(e&&"true"===e);e.exports={baseUrl:"https://www.ikea.com",gitVersion:"refs/heads/master-ef170ab4734e80f2c0360dffc44fa938bb6420ac",locale:"ko-KR",nodeEnv:"production",sentryClient:"search-box",sentryKey:"eecd2c126b504b78beaef4ddb86c5564",sentryProject:"271796",sikApiVersion:Object({BASE_URL:"https://www.ikea.com",LOCALE:"ko-KR",SIK_ENDPOINT:"https://sik.search.blue.cdtapps.com",SIK_MARKET_CODE:"kr/ko",SENTRY_KEY:"eecd2c126b504b78beaef4ddb86c5564",SITEFOLDER:"kr/ko",TEXT_DIRECTION:"ltr",SAVE_VISUAL_SEARCH_IMAGE:"true",VERSION:"refs/heads/master-ef170ab4734e80f2c0360dffc44fa938bb6420ac"}).SIK_API_VERSION||"20220826",sikAuth:Object({BASE_URL:"https://www.ikea.com",LOCALE:"ko-KR",SIK_ENDPOINT:"https://sik.search.blue.cdtapps.com",SIK_MARKET_CODE:"kr/ko",SENTRY_KEY:"eecd2c126b504b78beaef4ddb86c5564",SITEFOLDER:"kr/ko",TEXT_DIRECTION:"ltr",SAVE_VISUAL_SEARCH_IMAGE:"true",VERSION:"refs/heads/master-ef170ab4734e80f2c0360dffc44fa938bb6420ac"}).SIK_AUTH,sikEndpoint:"https://sik.search.blue.cdtapps.com",sikMarketCode:"kr/ko",siteFolder:"kr/ko",textDirection:"ltr",saveVisualSearchImage:r("true"),dexfVpcEndpoint:"https://api.dexf.ikea.com/",dexfVpcApiKey:"61ebbc20-59dd-461c-b2fd-8b100bd640d6",disableNisse:r(Object({BASE_URL:"https://www.ikea.com",LOCALE:"ko-KR",SIK_ENDPOINT:"https://sik.search.blue.cdtapps.com",SIK_MARKET_CODE:"kr/ko",SENTRY_KEY:"eecd2c126b504b78beaef4ddb86c5564",SITEFOLDER:"kr/ko",TEXT_DIRECTION:"ltr",SAVE_VISUAL_SEARCH_IMAGE:"true",VERSION:"refs/heads/master-ef170ab4734e80f2c0360dffc44fa938bb6420ac"}).DISABLE_NISSE),addToCart:r(Object({BASE_URL:"https://www.ikea.com",LOCALE:"ko-KR",SIK_ENDPOINT:"https://sik.search.blue.cdtapps.com",SIK_MARKET_CODE:"kr/ko",SENTRY_KEY:"eecd2c126b504b78beaef4ddb86c5564",SITEFOLDER:"kr/ko",TEXT_DIRECTION:"ltr",SAVE_VISUAL_SEARCH_IMAGE:"true",VERSION:"refs/heads/master-ef170ab4734e80f2c0360dffc44fa938bb6420ac"}).ADD_TO_CART_BUTTON),iGift:r(Object({BASE_URL:"https://www.ikea.com",LOCALE:"ko-KR",SIK_ENDPOINT:"https://sik.search.blue.cdtapps.com",SIK_MARKET_CODE:"kr/ko",SENTRY_KEY:"eecd2c126b504b78beaef4ddb86c5564",SITEFOLDER:"kr/ko",TEXT_DIRECTION:"ltr",SAVE_VISUAL_SEARCH_IMAGE:"true",VERSION:"refs/heads/master-ef170ab4734e80f2c0360dffc44fa938bb6420ac"}).IGIFT_BUTTON),isFavouriteActive:r(Object({BASE_URL:"https://www.ikea.com",LOCALE:"ko-KR",SIK_ENDPOINT:"https://sik.search.blue.cdtapps.com",SIK_MARKET_CODE:"kr/ko",SENTRY_KEY:"eecd2c126b504b78beaef4ddb86c5564",SITEFOLDER:"kr/ko",TEXT_DIRECTION:"ltr",SAVE_VISUAL_SEARCH_IMAGE:"true",VERSION:"refs/heads/master-ef170ab4734e80f2c0360dffc44fa938bb6420ac"}).ADD_TO_FAVOURITES_BUTTON),deltaMonitoringEnabled:r(Object({BASE_URL:"https://www.ikea.com",LOCALE:"ko-KR",SIK_ENDPOINT:"https://sik.search.blue.cdtapps.com",SIK_MARKET_CODE:"kr/ko",SENTRY_KEY:"eecd2c126b504b78beaef4ddb86c5564",SITEFOLDER:"kr/ko",TEXT_DIRECTION:"ltr",SAVE_VISUAL_SEARCH_IMAGE:"true",VERSION:"refs/heads/master-ef170ab4734e80f2c0360dffc44fa938bb6420ac"}).DELTA_MONITORING_ENABLE),deltaMonitoringApiUrl:Object({BASE_URL:"https://www.ikea.com",LOCALE:"ko-KR",SIK_ENDPOINT:"https://sik.search.blue.cdtapps.com",SIK_MARKET_CODE:"kr/ko",SENTRY_KEY:"eecd2c126b504b78beaef4ddb86c5564",SITEFOLDER:"kr/ko",TEXT_DIRECTION:"ltr",SAVE_VISUAL_SEARCH_IMAGE:"true",VERSION:"refs/heads/master-ef170ab4734e80f2c0360dffc44fa938bb6420ac"}).DELTA_MONITORING_URL,deltaMonitoringClientId:Object({BASE_URL:"https://www.ikea.com",LOCALE:"ko-KR",SIK_ENDPOINT:"https://sik.search.blue.cdtapps.com",SIK_MARKET_CODE:"kr/ko",SENTRY_KEY:"eecd2c126b504b78beaef4ddb86c5564",SITEFOLDER:"kr/ko",TEXT_DIRECTION:"ltr",SAVE_VISUAL_SEARCH_IMAGE:"true",VERSION:"refs/heads/master-ef170ab4734e80f2c0360dffc44fa938bb6420ac"}).DELTA_MONITORING_CLIENT_ID}},,,,function(e){e.exports=JSON.parse('{"a11yDropdownItem":{"close":"검색 드롭다운을 닫고 종료합니다.","desc":{"category":"카테고리 페이지","completion":"추천 검색어","content":"콘텐츠 페이지","planner":"플래닝 도구","product":"제품 페이지","store":"매장 정보 페이지"},"skiplink":"검색 드롭다운 종료."},"autocomplete":{"heading":"추천 검색"},"dropdownWidget":{"visualSearch":{"text":"이미지로 IKEA 제품 검색하기"}},"errorMessage":{"message":"에러가 발생하였습니다.\\n"},"metadata":{"description":"IKEA 검색 기능으로 다양한 IKEA 제품군을 간편하게 확인할 수 있습니다.\\n","openGraph":{"title":"IKEA에서 찾은 제품이에요!\\n"}},"noJs":{"heading":"브라우저에서 자바 스크립트가 비활성화됩니다.","message":"IKEA 검색을 사용하려면 자바스크립트를 활성화해야 합니다."},"recent":{"productsLabel":"최근  본 제품","searchLabel":"최근 검색"},"recentSearches":{"clear":"삭제","heading":"내 검색 기록\\n"},"searchField":{"clearInput":"검색어 삭제","close":"닫기","inputLabel":"제품 및 아이디어, 신제품 검색","label":"검색어 입력","placeholder":"제품 및 아이디어, 신제품 검색","search":"검색"},"storeInfo":{"closed":"영업종료","deviations":"편차는 상점 페이지를 참조하십시오","deviationShortLink":"편차"},"visualModal":{"captureImageButtonText":"사진 찍기 또는 업로드하기","closeIcon":"닫기","disclaimer":"Hej! 이미지는 검색 기능의 향상을 위해서만 사용됩니다. 개인 정보 유출에 해당될 수 있는 이미지가 아닌지 유의해 주세요! ","examplePhotosText":"또는 아래 이미지 중 하나를 클릭하여 사용해보세요","explanationHeader":"어떻게 진행되나요?","explanationText":"방금 본 멋진 의자의 이름을 알 수 없나요? 사진을 찍어보세요. 이미지로 검색하여 가장 비슷한 제품을 찾을 수 있습니다.","headerText":"이미지로 IKEA 제품 검색하기","imageErrorMessage":"에러가 발생했습니다 .. 다시 시도 해주세요","labelText":"이미지 검색","showVisualExampleImgs-text":"자신의 사진을 사용할 준비가 되셨습니까?","tryExamplePhoto":"우리 사진 중 하나를 사용해보십시오"}}')},,,,,function(e,t,a){e.exports=a(12)},function(e,t,a){},function(e,t,a){"use strict";a.r(t);a(11);var r=a(1);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const n=[];let o=!1;window.addEventListener("beforeunload",()=>{o=!0,setTimeout(()=>{o=!1},1e3)});const i=()=>{const e=new Uint8Array(16);return window.crypto.getRandomValues(e),Array.from(e,e=>("0"+(255&e).toString(16)).slice(-2)).join("")};var c=(e,t={})=>{if(console.error(e),!r.sentryKey||o)return!1;if(0!==Math.floor(10*Math.random()))return!1;let a="";e instanceof Error&&e.stack&&(a=e.stack);try{const o="object"==typeof e?e:new Error(e);if(-1!==n.indexOf(o.toString()))return!1;n.push(o.toString()),fetch(`https://sentry.io/api/${r.sentryProject}/store/?sentry_version=7&sentry_client=${r.sentryClient}&sentry_key=${r.sentryKey}`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:o.toString(),project:r.sentryProject,logger:r.sentryClient,platform:"javascript",request:{headers:{"User-Agent":window.navigator.userAgent},url:window.location.href},fingerprint:[o.toString().replace(r.siteFolder,"SITEFOLDER")],tags:{locale:r.locale,siteFolder:r.siteFolder},extra:s({stack:a},t),environment:r.nodeEnv,release:null==r.gitVersion?void 0:r.gitVersion.replace("refs/tags/","").split("-")[0],event_id:i()})})}catch(c){console.error(`Failed to report error: ${c.message}, original error: ${e.message}`)}return!0};const l={SMALL:{val:1,bp:600},HEADER_FOOTER:{val:2,bp:700},MEDIUM:{val:3,bp:900},LARGE:{val:4,bp:992},HUGE:{val:5,bp:1120},ENORMUS:{val:6,bp:1200},LUDICROUS:{val:7,bp:1408}},d=()=>{const e=window.innerWidth;for(const{val:t,bp:a}of Object.values(l))if(e<=a)return t;return l.LUDICROUS.val};var u={error:"",isDropdownVisible:!1,isModalVisible:!1,isSearching:!1,searchFieldFocused:!1,searchFieldValue:"",searchPhrase:"",searchResultsType:null,searchResults:[],showVisualErrorMessage:!1,animateModal:!1,visualSearchWidget:{show:!0,hiding:!1},viewport:d()};const h=(e,t)=>[(e,t)=>{e(t.action,t.payload)},{action:e,payload:t}],b=e=>t=>[(t,a)=>{e(a)},t],p=(e,{watch:t,reaction:a})=>(a(t),()=>{}),m=e=>{let t;return{debounce:a=>{t&&window.clearTimeout(t),t=window.setTimeout(a,e)},clear:()=>{t&&window.clearTimeout(t),t=null}}},v=()=>{try{var e;return"function"==typeof(null==(e=window.localStorage)?void 0:e.getItem)}catch(t){return console.warn("localStorage unavailable (cookies disabled)"),!1}},g=()=>{try{return"function"==typeof window.sessionStorage.getItem}catch(e){return console.warn("sessionStorage unavailable (cookies disabled)"),!1}};function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const _=e=>!!window.sendEvent&&(window.sendEvent(w({event_action:e.event_action||e.custom.search_type,event_category:"search_box"},e,{custom:w({},e.custom)})),!0),f=e=>"object"==typeof window.ikea&&("object"!=typeof window.ikea||"object"!=typeof window.ikea.cookieConsent||window.ikea.cookieConsent.hasConsent(e)),y=(e,t)=>{f(2)&&v()&&window.localStorage.setItem(e,t)},O=e=>f(2)&&v()?window.localStorage.getItem(e):null,E=e=>`${e}-${r.siteFolder.split("/").join("")}`,S=e=>{const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t;return"y"===e?(t=["8","9","a","b"],t[Math.floor(Math.random()*t.length)]):(t=new Uint8Array(1),window.crypto.getRandomValues(t),(t[0]%16).toString(16))});return f(2)?(y(E(e),t),t):null};var k=()=>{if(!v())return"";const e="search-sik-session";let t=localStorage.getItem(E(e));return t||(t=S(e)),t};const x=e=>`${e}-${r.siteFolder.split("/").join("")}`;var j=e=>{try{if(!v())return;const t=x("search-sik-usergroup"),a=localStorage.getItem(t),r=x("search-sik-usergroup-ga-time"),s=parseInt(localStorage.getItem(r)||"",10),n=Date.now();(Number.isNaN(s)||n-s>18e5||a!==e)&&(y(r,n.toString()),y(t,e),_({event_category:"search_backend",event_action:"usergroup",event_label:e,non_interaction:!0,custom:{additional_search_info:k()}}))}catch(t){c(t,{functionName:"setSikUsergroup"})}};var I=()=>{var e,t;return null!=(e=window.ikea)&&null!=(t=e.experiment)&&t.getUserId&&f(2)&&window.ikea.experiment.getUserId()||null};const L=k(),T=e=>e.includes("search-box")||e.includes("more-content")?[]:["subcategories-style","tree-navigation"],N=async(e,t)=>{try{if(!v()||e.includes("more-content")||e.includes("product-group-page")||e.includes("visual-search-result-page"))return[];if(e.includes("search-box")){var a;const e=new URLSearchParams(window.location.search),t=e.has("store")?e.get("store"):await(null==(a=window.ikea.store)?void 0:a.get().catch(()=>""));return t?["store",t]:[]}return t.selectedStore?["store",t.selectedStore]:[]}catch(r){return c(r),[]}},A=()=>{const e=new URLSearchParams(window.location.search);return e.has("sikForceAb")?["forceAb",e.get("sikForceAb")||""]:[]},C=()=>{const e=new URLSearchParams(window.location.search);return e.has("sikExperimental")?["experimental",e.get("sikExperimental")||""]:[]},R=e=>{if(!e.includes("search-box"))return[];const t=window.location.pathname.match("/cat/[^/]+-([a-z0-9]+)/");return t?["category",decodeURIComponent(t[1])]:[]},F=e=>{if(!e.includes("search-box"))return[];const t=window.location.pathname.match("/rooms/([a-z0-9\\-]+)/?");return t?["room",decodeURIComponent(t[1])]:[]},D=e=>{const t=new URLSearchParams(window.location.search);return e.includes("search-box")&&t.has("q")?["previousQ",t.get("q")||""]:[]},M=e=>e.includes("search-box")?[]:e.includes("visual-search-result-page")||e.includes("product-group-page")?["types","PRODUCT"]:["types","PRODUCT,CONTENT,PLANNER,REFINED_SEARCHES,ANSWER,SHOPPABLE_IMAGE"],V=e=>{const t=Object.keys(e).filter(t=>void 0!==e[t]&&null!==e[t]).map(t=>[t,e[t].toString()]),a=I();return L&&t.push(["sessionId",L]),a&&t.push(["optimizelyUserId",a]),t};var P=async e=>((e,t)=>{if(!t||0===t.length||!L)return;const a=new URL(r.sikEndpoint);a.pathname=r.sikMarketCode+"/rewards",a.search=new URLSearchParams([["sessionId",L||""],["c",e],["v",r.sikApiVersion]]).toString();const s={method:"POST",body:JSON.stringify(t)};r.sikAuth&&(s.headers={authorization:"Basic "+r.sikAuth}),fetch(a.toString(),s).then(e=>{if(200!==e.status)return Promise.reject(new Error(`Got HTTP status ${e.status} from backend`))})})("sb",e);const U=b(e=>P(e)),z=(e,t)=>(a,r)=>[a,h(e,r),[()=>{t(r)},null]],$=e=>z(e,e=>e.preventDefault()),K=(e,t)=>{const a=new CustomEvent(t.name,{detail:t.detail,cancelable:!!t.onFinish||!!t.onCancel});let r=window.dispatchEvent(a);r&&t.onFinish?e(t.onFinish,a):!r&&t.onCancel&&e(t.onCancel,a)},q=e=>[K,e],H=e=>{return t=e.watch,[p,{watch:t,reaction:t=>{const a=new CustomEvent(e.name,{detail:e.getDetail(t)});Promise.resolve().then(()=>window.dispatchEvent(a))}}];var t},B=(e,t)=>{const a=a=>{e(t.action,a.detail)};return window.addEventListener(t.name,a),()=>{window.removeEventListener(t.name,a)}};const G=window.location.hostname.includes("localhost"),Y=(e,{path:t="",params:a=""})=>[e,[()=>{window.location.pathname.includes("search")?window.history.pushState({},"",window.location.pathname+""+a):window.location.href=`${G?"":""+r.baseUrl}/${r.siteFolder}/${t}/${a}`},null],h([xe,!1])],W=(e,t)=>{const a=(e=>{const t=e.match(/^[Ss]?\d(?:[ .-]?\d){7}$/);return t?t[0].replace(/(?:[.|\-| ])/g,""):e.replace(/^[\s\uFEFF\xA0]+/g,"").replace(/[\s\uFEFF\xA0]+/g," ")})((e=>e.match(/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?/)?e=(e=(e=(e=e.replace(/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([a-zA-Z\u00c0-\u017e])*\/?/,"$4")).replace(/\//g," ")).replace(/\./g," ")).replace(/\?.+/,""):e)(e)),r=new URLSearchParams(window.location.search).get("seaForceAb");return q({name:"pagenavigationrequest",detail:{query:{q:a}},onFinish:[Y,{path:"search",params:`?q=${encodeURIComponent(a)}${r?"&seaForceAb="+r:""}`}],onCancel:t})},J=e=>{const t=new URLSearchParams(window.location.search).get("seaForceAb");return q({name:"pagenavigationrequest",detail:{query:null},onFinish:[Y,{path:"search",params:t?"?visual=true&seaForceAb="+t:"?visual=true"}],onCancel:e})},X=e=>(async(e,t,a)=>{const s=new URL(r.sikEndpoint);var n,o;let i;return s.pathname=`${r.sikMarketCode}/${t}`,s.search=new URLSearchParams([...V(a),A(),C(),R(t),F(t),D(t),await N(t,a),await(null!=(n=window)&&null!=(o=n.ikea)&&o.postalCode?window.ikea.postalCode.get().catch(()=>[]).then(e=>e?["zip",e.postalCode]:[]):[]),T(t),M(t),["c",e],["v",r.sikApiVersion]].filter(e=>e.length)).toString(),i=r.sikAuth?fetch(s.toString(),{headers:{authorization:"Basic "+r.sikAuth}}):fetch(s.toString()),i.then(e=>{if(200!==e.status){const t=new Error(`Got HTTP status ${e.status} from backend`);return Promise.reject(t)}return e.json()}).then(e=>(j(e.usergroup),e))})("sb","search-box",{q:e});var Z=e=>({universal:e.searchBox.universal}),Q=a(5);function ee(){return(ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var te=(e,t={},a=!1)=>{if(!e)return e;const s=e.split(".");let n;try{n=s.reduce((e,t)=>e[t],ee({},Q))}catch(o){return e}return void 0===n?e:a?Object.keys(t).reduce((e,a)=>e.reduce((e,r)=>"string"==typeof r?e.concat(r.split(`{${a}}`).reduce((e,r)=>e?[...e,t[a],r]:[r],null)):e.concat(r),[]),[n]):"object"==typeof n?Object.keys(t).includes("number")?((e,t,a)=>{let s;try{var n;s=null!=(n=e[new Intl.PluralRules(r.locale).select(t.number)])?n:e.other}catch(o){return c(o,{functionName:"i18n.js",state}),a}return s?Object.keys(t).reduce((e,a)=>e.replace(`{${a}}`,t[a]),s):a})(n,t,e):e:Object.keys(t).reduce((e,a)=>e.replace(`{${a}}`,t[a]),n)};const ae="search-recent-searches-"+r.siteFolder.split("/").join("");function re(){return(re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}let se={};const ne=async e=>{if(se[e])return[se[e],0];let t=performance.now(),a=await X(e).then(Z).then(e=>e.universal),r=performance.now()-t;return se[e]=a,[a,r]},oe=async(e,t)=>{try{let a="recent",s=[],n=0;if(t.phrase.length)a="suggest",[s,n]=await ne(t.phrase);else{let e=await(async()=>{let e=[];if(!v())return e;const{ikeaBrowserHistory:t}=window.localStorage;if(t){const a=JSON.parse(t);if(a.pip){const t=a.pip.reverse().slice(0,10);let s=await Promise.all(t.map(e=>fetch(`${r.baseUrl}/${r.siteFolder}/products/${e.id.slice(-3)}/${e.id}.json`).then(e=>e.json()).then(t=>re({},e,t)).catch(()=>({}))));s=s.reduce((e,t)=>(t.id&&t.name&&t.pipUrl&&e.push(t),e),[]),e.push(...s.map(e=>{var t,a;return{label:te("recent.productsLabel"),timestamp:e.timestamp,product:{colors:[],currencyCode:e.currencyCode,id:e.id,itemMeasureReferenceText:"",mainImageUrl:null==e||null==(t=e.mainImage)?void 0:t.url,name:e.name,onlineSellable:!0,pipUrl:e.pipUrl,priceNumeral:null==e||null==(a=e.salesPrice)?void 0:a.numeral,typeName:e.typeName}}}))}}return e})(),t=(()=>{if(!f(1)||!v())return[];const e=window.localStorage.getItem(ae);if(null===e)return[];return JSON.parse(e).reverse().map((e,t)=>"object"==typeof e?e:{label:te("recentSearchLabel"),timestamp:t,completion:{metadata:"generic",text:e}})})();s=[...e,...t],s.length||([s,n]=await ne(""),a="popular")}e(t.OnResult,{phrase:t.phrase,result:s,duration:n,type:a})}catch(a){c(a),e(t.OnError)}};const ie=e=>[()=>{(e=>{if(!f(3)||!v())return;let t=window.localStorage.getItem(ae);null===t&&(t="[]");const a=JSON.parse(t).slice(0,5);a&&a.forEach((t,r)=>{var s,n,o;(t===(null==e||null==(s=e.completion)?void 0:s.text)||"object"==typeof t&&(null==t||null==(n=t.completion)?void 0:n.text)===(null==e||null==(o=e.completion)?void 0:o.text))&&a&&a.splice(r,1)}),a.unshift(e),window.localStorage.setItem(ae,JSON.stringify(a))})({label:te("recent.searchLabel"),timestamp:(new Date).getTime(),completion:{metadata:"generic",text:e}})},null],ce=()=>[()=>{f(2)&&v()&&window.localStorage.setItem(ae,"[]"),y("ikeaBrowserHistory","{}")},null];var le=(e,t)=>[()=>{le(e,t)},null];const de=b(_),ue=b(e=>{try{if("object"!=typeof sessionStorage||"function"!=typeof sessionStorage.getItem)return!1;const t="search-ga-search-type-"+r.siteFolder.split("/").join("");sessionStorage.setItem(t,e)}catch(t){c(t)}}),he=(new IntersectionObserver((e,t)=>e.forEach(e=>{e.isIntersecting&&(_(e.target._evdata),t.unobserve(e.target))}),{threshold:1}),async(e,t)=>{if(!g())throw new Error("visual search - session storage not available");let a=await(e=>new Promise((t,a)=>{if(!e)return void a(new Error("visual search - no data"));const r=new FileReader;r.onerror=e=>{a(e)},r.onload=()=>{t(r.result)},r.readAsDataURL(e)}))(e);if(!t&&!(e=>{const t=e.split(",")[1];return"/9j/"===t.substr(0,4)||"UklGR"===t.substr(0,5)||"iVBOR"===t.substr(0,5)})(a))throw new Error("visual search - invalid image data");return t||(a=await(e=>new Promise((t,a)=>{const r=()=>{a(new Error("visual search - image resize error"))},s=new Image;s.onerror=r,s.onload=()=>{const e=s.width<1e3?s.width:1e3,a=e/s.width,n=document.createElement("canvas"),o=n.getContext("2d");o&&(s.style.imageOrientation="from-image",n.width=e,n.height=s.height*a,o.drawImage(s,0,0,n.width,n.height));const i=o&&o.canvas.toDataURL("image/jpeg");i?t(i):r()},s.src=e}))(a)),a.split(",")[1]}),be=async(e,t)=>{window.sessionStorage.setItem("visualSearchImage",e);const a=(e=>{if(!e.results)throw new Error("visual search - bad response "+(null==e?void 0:e.message));if(!e.results.length)return"";if(e.results[0].search[0].products){return e.results[0].search.reduce((e,t,a)=>(t.products.forEach((t,r)=>{e[r]=e[r]||[];const s="s"===t.itemNoGlobal[0].toLowerCase()?t.itemNoGlobal.slice(1):t.itemNoGlobal;e[r][a]=s}),e),[]).flat().filter(e=>!!e).reduce((e,t)=>`${e},${t}`)}return e.results[0].search.map(e=>"s"===e.article[0].toLowerCase()?e.article.slice(1):e.article).reduce((e,t)=>`${e},${t}`)})(await(async(e,t)=>fetch("https://v4.ai.ingka.ikea.net/api/public/image",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"AIzaSyBX8RsOkAzdfM1WW0ZiHVG8q7coOdowdXk"},body:JSON.stringify({jobs:[{features:[{type:"search",includeIdentify:!0,saveImage:r.saveVisualSearchImage&&!t,maxResults:20,maxDetections:5,sortBy:{poi:{pt:[.5,.5],sortOrder:"desc"}}}],base64:e}]})}).then(e=>e.json()))(e,t));return window.sessionStorage.setItem("visualSearchResult",a),a},pe=async(e,t)=>{try{let r,s;t.source instanceof File?(r=t.source,s="visual-search-test-image-zu0h51trui.jpg"===r.name):(r=await(a=t.source,fetch(a,{cache:"no-store"}).then(e=>e.blob()).catch(e=>{throw new Error("visual search - fetch example image failed")})),s=!0);const n=await he(r,s);e(t.onBegin,n);const o=await be(n,s);window.sessionStorage.setItem("visualSearchResult",o),e(t.onFinish,o)}catch(r){e(t.onError,r)}var a};function me(){return(me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const ve=(e=>{const{debounce:t,clear:a}=m(e);return{debounce:e=>a=>t(()=>(e[0]||e)(a,e[1])),clear:()=>[a,null]}})(300),ge=(e,t)=>[me({},e,{searchFieldValue:t,searchFieldFocused:!0,isDropdownVisible:!0}),ve.debounce(h(fe))],we=(e,t)=>[me({},e,{searchFieldValue:null!=t?t:"",isSearching:!!e.searchFieldFocused&&e.isSearching}),e.searchFieldFocused&&h(fe)],_e=e=>e.isDropdownVisible?e:[me({},e,{searchFieldFocused:!0,isDropdownVisible:!0}),!e.isDropdownVisible&&de({event_action:"focus"}),h(fe)],fe=e=>{return[me({},e,{isSearching:!0,searchPhrase:e.searchFieldValue}),ve.clear(),(t={phrase:e.searchFieldValue,OnError:ye,OnResult:Oe},[oe,t])];var t},ye=(e,t)=>me({},e,{error:t.message,isSearching:!1}),Oe=(e,t)=>t.phrase!==e.searchFieldValue?e:[me({},e,{searchResults:t.result,searchResultsType:t.type,isSearching:!1,searchPhrase:t.phrase}),t.duration>0&&de({event_category:"search_box_actions",event_value:t.duration,event_label:t.duration,event_action:"sik_request_duration_search_box",non_interaction:!0})],Ee=e=>[e,ce(),h(fe)],Se=e=>[me({},e,{searchFieldFocused:!1})],ke=e=>""===e.searchFieldValue.trim()?e:[e,ve.clear(),[()=>{window.scrollTo(0,0)},null],[()=>{const e=document.querySelector('[data-namespace="search-box"] .search-field__input');e&&e instanceof HTMLInputElement&&e.blur()},null],W(e.searchFieldValue,[xe,!1]),ie(e.searchFieldValue),!!e.searchFieldValue.trim().length&&de({event_label:e.searchFieldValue,custom:{search_type:"hard_search"}}),!!e.searchFieldValue.trim().length&&ue("hard_search")],xe=(e,t)=>me({},e,{isDropdownVisible:t}),je=e=>{return[me({},e,{visualSearchWidget:me({},e.visualSearchWidget,{show:!1}),isDropdownVisible:!1,isModalVisible:!0,animateModal:!1}),(t=e=>me({},e,{animateModal:!0}),[e=>{Promise.resolve().then(()=>requestAnimationFrame(()=>e(t,a)))},null]),de({event_category:"search_box_actions",event_action:"visual-search-icon_clicked_"+(e.isDropdownVisible?"dropdown_open":"dropdown_closed")})];var t,a},Ie=e=>{return[me({},e,{animateModal:!1}),(t=e=>[me({},e,{isModalVisible:!1}),[()=>{requestAnimationFrame(()=>{const e=document.getElementById("search-box__visualsearch");e&&e.blur()})},null]],a=300,[e=>{setTimeout(()=>e(t),a)},null])];var t,a},Le=e=>[me({},e,{searchFieldValue:"",searchFieldFocused:!0}),h(fe),de({event_action:"clear-icon-clicked",event_category:"search_box_actions"})],Te=e=>[me({},e,{isDropdownVisible:!1}),de({event_action:"close-search-box-icon-clicked",event_category:"search_box_actions"})],Ne=(e,t)=>[me({},e,{isSearching:!1,showVisualErrorMessage:!0}),le(t)],Ae=e=>me({},e,{isSearching:!0,showVisualErrorMessage:!1}),Ce=e=>[me({},e,{searchPhrase:"",isSearching:!1}),h(Ie)],Re=(e,t)=>{const a=t?"visual_search_upload_image":"visual_search_example_image";return[me({},e,{isSearching:!1}),de({event_category:"search_box_actions",event_action:a}),de({event_label:"visual",custom:{search_type:"visual_searches"}}),ue("visual_searches"),J(Ce),h(Ie)]},Fe=(e,t)=>{return[e,ve.clear(),(a={source:t,onBegin:Ae,onFinish:[Re,t instanceof File],onError:Ne},[pe,a])];var a},De=(e,{text:t,actionTokens:a,listPosition:r,searchType:s,metadata:n})=>[me({},e,{searchFieldValue:t}),U(a||[]),de({event_label:t,value:r+1,custom:{search_type:s,additional_search_info:n}}),ue(s),h(ke)],Me=(e,t)=>me({},e,{searchFieldValue:t}),Ve=e=>me({},e,{visualSearchWidget:me({},e.visualSearchWidget,{hiding:!1})}),Pe=e=>[e,h(je),de({event_category:"search_box_actions",event_action:"visual_search_widget_accepted"})],Ue=e=>[me({},e,{visualSearchWidget:{show:!1,hiding:!0}}),de({event_category:"search_box_actions",event_action:"visual_search_widget_dismissed"})],ze=e=>me({},e,{viewport:d()});var $e=a(0),Ke=a(2);const qe=({className:e,height:t,width:a},r)=>Object(Ke.c)({class:["svg-icon",e],width:a,height:t,viewBox:"0 0 24 24","aria-hidden":"true"},r);var He=({className:e="",height:t="24",width:a="24",name:r})=>{switch(r){case"arrow-left":return(({className:e,height:t,width:a})=>qe({className:e,height:t,width:a},[Object(Ke.b)({"fill-rule":"evenodd","clip-rule":"evenodd",d:"m3.999 11.9997 8 8.0011 1.4143-1.4141-5.5859-5.5866H20v-2H7.8273l5.5871-5.5868-1.4142-1.4143-8.0012 8.0007z",fill:"currentColor"})]))({className:e,width:a,height:t});case"camera":return(({className:e,height:t,width:a})=>qe({className:e,height:t,width:a},[Object(Ke.b)({"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.002 13a4 4 0 11-8 0 4 4 0 018 0zm-2 0a2 2 0 11-4 0 2 2 0 014 0z",fill:"currentColor"}),Object(Ke.b)({"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.443 4L7.586 7H3v13h18V7h-4.586l-1.857-3H9.443zm1.114 2h2.886L15.3 9H19v9H5V9h3.7l1.857-3z",fill:"currentColor"})]))({className:e,width:a,height:t});case"chevron":return(({className:e,height:t,width:a})=>qe({className:e,height:t,width:a},[Object(Ke.b)({"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.415 12.001l-8.001 8L7 18.588l6.587-6.586L7 5.414 8.415 4l8 8.001z"})]))({className:e,width:a,height:t});case"stack":return(({className:e,height:t,width:a})=>qe({className:e,height:t,width:a},[Object(Ke.b)({"fill-rule":"evenodd",d:"M3 3h10v10H3V3zm2 2v6h6V5H5z"}),Object(Ke.b)({d:"M17 7v10H7v-2h8V7h2zm4 14V11h-2v8h-8v2h10z"})]))({className:e,width:a,height:t});case"store":return(({className:e,height:t,width:a})=>qe({className:e,height:t,width:a},[Object(Ke.b)({"fill-rule":"evenodd",d:"M22 20V4H2v16h20zM20 6H4v12h3v-8h10v8h3V6zm-9 6H9v6h2v-6zm2 6h2v-6h-2v6z"})]))({className:e,width:a,height:t});case"pencil":return(({className:e,height:t,width:a})=>qe({className:e,height:t,width:a},[Object(Ke.b)({"fill-rule":"evenodd",d:"M13.001 2.586L4 11.587v5.414h5.414l8.994-8.994-5.408-5.421zM6 15.001v-2.586l6.999-6.999 2.583 2.589-6.996 6.996H6z"}),Object(Ke.b)({d:"M4 21.001h16v-2H4v2z"})]))({className:e,width:a,height:t});case"information-circle":return(({className:e,height:t,width:a})=>qe({className:e,height:t,width:a},[Object(Ke.b)({d:"M12 9.5A1.25 1.25 0 1 0 12 7a1.25 1.25 0 1 0 0 2.5zM11 11v6h2v-6h-2z"}),Object(Ke.b)({"fill-rule":"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zM4 12a8 8 0 1 1 16 0 8 8 0 1 1-16 0z"})]))({className:e,width:a,height:t});case"close":return(({className:e,height:t,width:a})=>Object(Ke.c)({class:"svg-icon "+e,width:a,height:t,viewBox:"0 0 24 24"},Object(Ke.b)({fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.0002 13.4144L16.9499 18.3642L18.3642 16.9499L13.4144 12.0002L18.3642 7.05044L16.95 5.63623L12.0002 10.586L7.05044 5.63623L5.63623 7.05044L10.586 12.0002L5.63624 16.9499L7.05046 18.3642L12.0002 13.4144Z"})))({className:e,width:a,height:t});case"cross-small":return(({className:e,height:t,width:a})=>qe({className:e,height:t,width:a},[Object(Ke.b)({"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.0006 13.4148l2.8283 2.8283 1.4142-1.4142-2.8283-2.8283 2.8283-2.8283-1.4142-1.4142-2.8283 2.8283L9.172 7.7578 7.7578 9.172l2.8286 2.8286-2.8286 2.8285 1.4142 1.4143 2.8286-2.8286z"})]))({className:e,width:a,height:t});case"search":return(({className:e,height:t,width:a})=>qe({className:e,height:t,width:a},[Object(Ke.b)({"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.98 15.395a6.294 6.294 0 111.414-1.414l4.602 4.601-1.414 1.414-4.602-4.601zm.607-5.101a4.294 4.294 0 11-8.587 0 4.294 4.294 0 018.587 0z",fill:"currentColor"})]))({className:e,width:a,height:t});case"search-valentines":return(({className:e,height:t,width:a})=>qe({className:e,height:t,width:a},[Object(Ke.b)({d:"M18 16.6A8.96 8.96 0 0011 2c-5 0-9 4-9 9s4 9 9 9c2.1 0 4.1-.7 5.6-2l4 4 1.4-1.4-4-4zM11 18c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7z",fill:"#111"}),Object(Ke.b)({"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.2 8.2c-.1 0-.2.1-.2.1l-.2-.2c-.9-.9-2.3-.9-3.2 0-.4.5-.6 1.1-.6 1.8 0 1.4 1 2.7 1.9 3.5C9.5 14 11 15 11 15s1.5-1 2.1-1.6c.9-.8 1.9-2.1 1.9-3.5 0-.6-.2-1.3-.7-1.7-.8-.9-2.3-.9-3.1 0z",fill:"#111"})]))({className:e,width:a,height:t});case"clear-input-field":return(({className:e,height:t,width:a})=>qe({className:e,height:t,width:a},[Object(Ke.a)({cx:"12",cy:"12",r:"10"}),Object(Ke.b)({fill:"#666","fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 10.6L15.6 7 17 8.4 13.4 12l3.6 3.6-1.4 1.4-3.6-3.6L8.4 17 7 15.6l3.6-3.6L7 8.4 8.4 7l3.6 3.6z"})]))({className:e,width:a,height:t});case"warning-triangle":return(({className:e,height:t,width:a})=>qe({className:e,height:t,width:a},[Object(Ke.b)({d:"M11.004 14.134h2v-6h-2v6zm1 1.5a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5z"}),Object(Ke.b)({"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.115 20.418l10-19h1.77l10 19L22 21.884H2l-.885-1.466zm2.542-.534h16.687L12 4.03 3.656 19.884z"})]))({className:e,width:a,height:t});case"spinner":return(({className:e,height:t,width:a})=>qe({className:"icon-spinner "+e,height:t,width:a},[Object(Ke.b)({d:"M13.5 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 1 1 3 0zM7.073 4.986a1.5 1.5 0 0 1-2.121 2.121 1.5 1.5 0 0 1 2.121-2.121zM3.58 10.58a1.5 1.5 0 1 1 0 3 1.5 1.5 0 1 1 0-3zm1.487 6.427a1.5 1.5 0 0 1 2.121 2.121 1.5 1.5 0 0 1-2.121-2.121zM10.66 20.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 1 1-3 0zm6.427-1.485a1.5 1.5 0 1 1 2.121-2.122 1.5 1.5 0 1 1-2.121 2.122zm3.493-5.595a1.5 1.5 0 1 1 0-3 1.5 1.5 0 1 1 0 3zm-1.486-6.427a1.5 1.5 0 0 1-2.121-2.121 1.5 1.5 0 0 1 2.121 2.121z"})]))({className:e,width:a,height:t});case"nisse":return(({className:e,height:t,width:a})=>qe({className:e,height:t,width:a},[Object(Ke.b)({d:"M11.361,1 C12.829,1 14.344,1.358 15.881,2.068 C16.29,2.258 16.509,1.256 16.248,1.137 C14.597,0.382 12.959,0 11.361,0 C4.802,0 2.243,4.562 1.38,6.5 L2.499,6.5 C3.421,4.599 5.712,1 11.361,1",fill:"#111"}),Object(Ke.b)({d:"M17.88,0 C16.499,0 15.38,1.119 15.38,2.5 C15.38,3.881 16.499,5 17.88,5 C19.261,5 20.38,3.881 20.38,2.5 C20.38,1.119 19.261,0 17.88,0 M17.88,1 C18.707,1 19.38,1.673 19.38,2.5 C19.38,3.327 18.707,4 17.88,4 C17.053,4 16.38,3.327 16.38,2.5 C16.38,1.673 17.053,1 17.88,1",fill:"#111"}),Object(Ke.b)({d:"M16.5568,6.5 L17.5908,6.5 C17.3728,5.794 17.3348,5.036 17.7288,4.403 C17.3948,4.312 17.0908,4.154 16.8268,3.943 C16.3498,4.759 16.3498,5.665 16.5568,6.5",fill:"#111"}),Object(Ke.b)({d:"M7.38,12 C7.38,12.553 6.932,13 6.38,13 C5.828,13 5.38,12.553 5.38,12 C5.38,11.447 5.828,11 6.38,11 C6.932,11 7.38,11.447 7.38,12",fill:"#111"}),Object(Ke.b)({d:"M13.38,12 C13.38,12.553 12.932,13 12.38,13 C11.828,13 11.38,12.553 11.38,12 C11.38,11.447 11.828,11 12.38,11 C12.932,11 13.38,11.447 13.38,12",fill:"#111"}),Object(Ke.b)({d:"M16.9635,5.958 L1.8385,5.958 C1.8385,5.958 0.3805,6.417 0.3805,7.917 C0.3805,8.917 0.7965,10 0.7965,10 L18.0055,10 C18.0055,10 18.4215,8.917 18.4215,7.917 C18.4215,6.417 16.9635,5.958 16.9635,5.958 M16.7745,6.958 C16.9845,7.06 17.4215,7.339 17.4215,7.917 C17.4215,8.285 17.3475,8.681 17.2665,9 L1.5355,9 C1.4545,8.681 1.3805,8.284 1.3805,7.917 C1.3805,7.342 1.8075,7.063 2.0275,6.958 L16.7745,6.958",fill:"#111"}),Object(Ke.b)({d:"M9.38,18.0859 C8.712,18.0859 8.084,17.8259 7.612,17.3539 C7.417,17.1579 7.417,16.8419 7.612,16.6469 C7.808,16.4509 8.125,16.4509 8.32,16.6469 C8.885,17.2129 9.875,17.2129 10.44,16.6469 C10.635,16.4509 10.952,16.4509 11.148,16.6469 C11.343,16.8419 11.343,17.1579 11.148,17.3539 C10.676,17.8259 10.048,18.0859 9.38,18.0859",fill:"#111"}),Object(Ke.b)({d:"M17.1847,14.4063 L17.0737,14.6413 L17.1947,14.8683 C17.2257,14.9263 17.9307,16.3043 16.4077,18.1853 C15.0877,19.8163 12.1317,21.0003 9.3797,21.0003 C6.6277,21.0003 3.6717,19.8163 2.3517,18.1853 C0.8297,16.3043 1.5347,14.9263 1.5627,14.8733 L1.6917,14.6423 L1.5757,14.4063 C0.9587,13.1583 0.8287,12.0143 1.1777,11.0003 L0.1547,11.0003 C-0.1423,12.1273 -0.0173,13.3443 0.5777,14.6373 C0.3517,15.2463 -0.0023,16.8663 1.5747,18.8143 C3.0927,20.6903 6.3027,22.0003 9.3797,22.0003 C12.4577,22.0003 15.6667,20.6903 17.1847,18.8143 C18.7627,16.8663 18.4087,15.2463 18.1827,14.6373 C18.7777,13.3443 18.9027,12.1273 18.6047,11.0003 L17.5807,11.0003 C17.9307,12.0143 17.8017,13.1583 17.1847,14.4063",fill:"#111"}),Object(Ke.b)({d:"M5.38,15.5 C6.281,15.5 7.062,15.339 7.751,15.197 C8.322,15.08 8.862,14.969 9.38,14.969 C9.898,14.969 10.438,15.08 11.009,15.197 C11.698,15.339 12.479,15.5 13.38,15.5 C15.034,15.5 16.38,14.154 16.38,12.5 L16.38,11 L15.38,11 L15.38,12.5 C15.38,13.603 14.483,14.5 13.38,14.5 C12.581,14.5 11.884,14.356 11.211,14.218 C10.588,14.09 10,13.969 9.38,13.969 C8.76,13.969 8.172,14.09 7.549,14.218 C6.876,14.356 6.179,14.5 5.38,14.5 C4.277,14.5 3.38,13.603 3.38,12.5 L3.38,11 L2.38,11 L2.38,12.5 C2.38,14.154 3.726,15.5 5.38,15.5",fill:"#111"})]))({className:e,width:a,height:t});default:return}},Be=(e,t)=>{const a=t.toLowerCase().indexOf(e.toLowerCase());if(-1===a)return[Object($e.r)(t)];const r=a+e.length;return[Object($e.c)(Object($e.r)(t.slice(0,a))),Object($e.r)(t.slice(a,r)),Object($e.c)(Object($e.r)(t.slice(r)))]};const Ge=new Date,Ye=e=>!r.disableNisse&&(e=>["nisse","vinter 2021","smycka","glimma","knorrig","vintersaga","vinter","vintersnö","vinterfest","stråla","blötsnö","godafton","snöyra","köldknäpp","vinterväder"].includes(e)&&new Date(Ge.getFullYear(),11,1)<=Ge&&new Date(Ge.getFullYear(),11,31)>Ge)(e)?"nisse":new Date(Ge.getFullYear(),1,14)===Ge?"search-valentines":"search";const We=(e,{eventLabel:t,searchType:a,metadata:r,actionTokens:s})=>[e,U(s||[]),de({event_category:"search",event_label:t,custom:{search_type:a,number_of_internal_searches:1}}),de({event_action:a,event_label:t,custom:{search_type:a,additional_search_info:r}}),ue(a)];var Je=e=>Object($e.n)({class:"universal-item"},[Object($e.a)({tabindex:-1,class:"universal-item__link",onclick:[We,e],onselect:[Me,[e.title,e.label].filter(Boolean).join(", ")],href:e.url,"aria-label":e.title,"aria-describedby":"description-id-"+e.id},[Object($e.e)({class:"universal-item__text"},[Object($e.p)({class:"universal-item__title"},[!e.thumbnail&&He({name:e.icon,className:"universal-item__icon"}),Object($e.r)(e.title)]),!!e.label&&Object($e.p)({class:"universal-item__label"},Object($e.r)(e.label))]),!!e.thumbnail&&Object($e.k)({src:e.thumbnail,alt:"",class:"universal-item__thumbnail",onerror:(e,t)=>(t.target.style.display="none",e)})]),Object($e.q)({id:"description-id-"+e.id,hidden:!0},Object($e.r)(e.ariaDescription))]),Xe=(e,t)=>{const a=new Date,s=a.toISOString().substring(0,10);a.setDate(a.getDate()+1);const n=a.toISOString().substring(0,10);return e.filter(e=>e.date===s||e.date===n).map(e=>{const t=new Date(e.date);return{hours:e.hours,date:t.toLocaleString(r.locale,{weekday:"short"})}}).map(e=>{const t=0===e.hours.length?te("storeInfo.closed"):e.hours.map(e=>`${e.open} - ${e.close}`).join(", ");return`${e.date} ${t}`}).join(t)},Ze=({searchPhrase:e,universalItems:t,listType:a})=>!(null==t||!t.length)&&Object($e.e)({class:"search-results__container search-results__container--search-history"},["recent"===a&&Object($e.p)({class:"search-results__heading"},[Object($e.r)(te("recentSearches.heading")+" "),Object($e.a)({tabindex:-1,class:"search-results__clear",onclick:Ee,ariaLabel:`${te("recentSearches.clear")} ${te("recentSearches.heading")}`},Object($e.r)(te("recentSearches.clear")))]),Object($e.o)({class:"search-results__list search-results__container search-results__container--autocomplete",id:"search-suggestions",ariaLabel:te("autocomplete.heading")},t.map((t,s)=>{return null!=t.completion?(n={listPosition:s,searchPhrase:e,searchType:"popular"===a?"popular_searches":"recent"===a?"historical_searches":"autocomplete",metadata:t.metadata,text:t.completion.text,actionTokens:null==t?void 0:t.actionTokens,ariaDescription:te("a11yDropdownItem.desc.completion")},Object($e.n)({class:"universal-item"},[Object($e.a)({tabindex:-1,class:"universal-item__link",href:`${r.baseUrl}/${r.siteFolder}/search/?q=${n.text}`,onclick:$([De,n]),onselect:[Me,n.text],"aria-label":n.text,"aria-describedby":"description-id-"+n.listPosition},Object($e.q)({class:"universal-item__text"},Object($e.q)({class:"universal-item__title with-autocomplete-icon"},[He({name:Ye(n.text),className:"universal-item__icon"}),...Be(n.searchPhrase,n.text)]))),Object($e.q)({id:"description-id-"+n.listPosition,hidden:!0},Object($e.r)(n.ariaDescription))])):null!=t.product?Je({icon:"chevron",title:t.product.name,label:[t.product.typeName,t.product.itemMeasureReferenceText].filter(Boolean).join(", "),url:t.product.pipUrl,thumbnail:t.product.mainImageUrl&&t.product.mainImageUrl+"?f=u",eventLabel:t.product.name,searchType:"product_"+a,metadata:t.metadata,actionTokens:t.actionTokens,ariaDescription:te("a11yDropdownItem.desc.product"),id:s}):null!=t.category?Je({icon:"stack",title:t.category.name,url:t.category.url,eventLabel:t.category.name,searchType:"category_"+a,metadata:t.metadata,actionTokens:t.actionTokens,ariaDescription:te("a11yDropdownItem.desc.category"),id:s}):null!=t.planner?Je({icon:"pencil",title:t.planner.title,url:t.planner.url,eventLabel:t.planner.title,searchType:"planner_"+a,metadata:t.metadata,actionTokens:t.actionTokens,ariaDescription:te("a11yDropdownItem.desc.planner"),id:s}):null!=t.content?Je({icon:"information-circle",title:t.content.title,url:t.content.url,eventLabel:t.content.title,searchType:"content_"+a,metadata:t.metadata,actionTokens:t.actionTokens,ariaDescription:te("a11yDropdownItem.desc.content"),id:s}):null!=t.store?Je({icon:"store",title:t.store.name,label:t.store.openingHours.days.length?Xe(t.store.openingHours.days," & "):null,url:t.store.website,eventLabel:t.store.name,searchType:"store_"+a,metadata:t.metadata,actionTokens:t.actionTokens,ariaDescription:te("a11yDropdownItem.desc.store"),id:s}):void 0;var n}))]);function Qe(){return(Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var et=({ariaLabel:e,className:t,icon:a,id:r,label:s,title:n,onclick:o,type:i="button"})=>Object($e.d)(Qe({id:r,class:["search-btn",t],onclick:o,"aria-label":e},n?{title:n}:{},{type:i}),[He({name:a}),!!s&&Object($e.q)({class:"search-box__btn-label"},Object($e.r)(s))]),tt=({animating:e})=>{return Object($e.e)({class:{"visual-search__widget":!0,"animation-fadeout":e},onclick:Pe,onanimationend:e?Ve:e=>e},[Object($e.q)({class:"visual-search__widget--content"},[Object($e.q)({class:"visual-search__widget-icon"},He({name:"camera"})),Object($e.p)({class:"visual-search__widget--content--text"},Object($e.r)(te("dropdownWidget.visualSearch.text")))]),et({ariaLabel:te("visualModal.closeIcon"),type:"button",className:"widget__cancel-button",icon:"close",onclick:(t=Ue,z(t,e=>e.stopPropagation()))})]);var t};const at=e=>!e.searchPhrase&&f(2)&&(e.visualSearchWidget.show||e.visualSearchWidget.hiding);var rt=e=>!!e.isDropdownVisible&&Object($e.e)({class:"dropdown",tabindex:-1},(({message:e,error:t})=>!!t&&Object($e.p)({class:"error"},[He({name:"warning-triangle"}),Object($e.r)(e)]))({error:e.error,message:te("errorMessage.message")})||[at(e)&&tt({animating:e.visualSearchWidget.hiding}),!!e.searchResults.length&&!!e.searchResultsType&&Object($e.e)({class:"search-results"},[Ze({searchPhrase:e.searchPhrase,universalItems:e.searchResults,listType:e.searchResultsType}),Object($e.a)({href:"#search-box-anchor",class:"sr-only",onclick:Te,tabIndex:-1},Object($e.r)(te("a11yDropdownItem.close")))])]);const st=new IntersectionObserver(([e])=>{e.intersectionRect.width!==e.boundingClientRect.width&&e.target.classList.add("tooltip--intoview--y-axis"),e.intersectionRect.height!==e.boundingClientRect.height&&e.target.classList.add("tooltip--intoview--x-axis")},{root:null,rootMargin:"0px",threshold:[0]});var nt=({id:e,ariaLabel:t,tooltipText:a})=>((e,t)=>{let a;return Object.defineProperty(e,"node",{get:()=>a,set(e){a=e,a._once||(a._once=!0,window.requestAnimationFrame(()=>t(a)))}}),e})(Object($e.e)({class:"tooltip",role:"tooltip","aria-hidden":"true",id:e+"--tooltip"},Object($e.r)(a||t)),e=>st.observe(e));const ot=(e="primary")=>He({name:"spinner",className:e}),it=({color:e="primary",size:t="medium"}={})=>Object($e.q)({class:{"loading-ball":!0,[""+e]:!0,["ball-"+t]:!0}});var ct=({type:e="ball",color:t="primary",size:a="medium"}={})=>Object($e.e)({class:"loading-wrapper","aria-hidden":!0},["spinner"===e&&ot(t),"ball"===e&&it({color:t,size:a})]);function lt(){return(lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}let dt;const ut=e=>e.currentTarget,ht=(e,t)=>{var a;const r=matchMedia("(pointer:fine)").matches,s=null==(a=document)?void 0:a.getElementById(e+"--tooltip");"add"===t?r&&(null==s||s.classList[t]("show-tooltip")):null==s||s.classList[t]("show-tooltip")};var bt=({ariaLabel:e,tooltipText:t,className:a,iconClassName:r,icon:s,id:n,style:o,label:i,onclick:c,isLoading:l=!1,type:d="button",loaderColor:u="primary"})=>Object($e.e)({class:"button-and-tooltip"},[Object($e.d)(lt({id:n,class:["search-btn",a],disabled:l,style:o,onmouseover:(e,t)=>{const a=ut(t);return null!=a&&a.hidingTooltip||(dt=setTimeout(()=>{ht(n,"add")},400)),e},onmouseleave:(e,t)=>{clearTimeout(dt);const a=ut(t);return a&&(ht(n,"remove"),a.hidingTooltip=!1,a.blur()),e},onclick:(e,t)=>{const a=ut(t);return a&&(a.hidingTooltip=!0),ht(n,"remove"),c?[c,t]:e},onfocus:(e,t)=>{const a=ut(t);return null!=a&&a.hidingTooltip||ht(n,"add"),e},onblur:(e,t)=>{const a=ut(t);return a&&(a.hidingTooltip=!1),ht(n,"remove"),e}},!t&&{"aria-labelledby":n+"--tooltip"},t&&{"aria-label":e},{type:d}),[l?ct({color:u}):He({name:s,className:r}),!!i&&Object($e.q)({class:"search-box__btn-label"},Object($e.r)(i))]),nt({id:n,ariaLabel:e,tooltipText:t})]),pt=()=>{const e=document.querySelector("html");return!!e&&"rtl"===e.getAttribute("dir")};const mt=e=>bt({ariaLabel:te("visualModal.headerText"),className:"search-box__button single "+(e.searchPhrase.length&&!e.isDropdownVisible||0===e.searchPhrase.length?"":"hidden"),icon:"camera",id:"search-box__visualsearch",onclick:je}),vt=e=>{return[gt(bt({ariaLabel:te("searchField.clearInput"),className:"search-box__button double clear-input",id:"clear-input",icon:"cross-small",onclick:$(Le)})),gt((t=e.searchFieldValue,bt({ariaLabel:te("searchField.search"),className:{"search-box__button":!0,double:!0,search:!0},icon:Ye(t),id:"search-box__searchbutton",type:"submit"})))];var t},gt=e=>Object($e.q)({class:"search-box__button-wrapper-item"},e);var wt=e=>{return Object($e.e)({class:{"search-field":!0,"search-field--has-input":!!e.searchFieldValue}},[He({name:Ye(e.searchFieldValue),className:{"search-field__search-icon":!0,"search-field__search-icon--show":!e.searchFieldValue&&e.viewport>l.HEADER_FOOTER.val||!e.searchFieldValue&&!e.isDropdownVisible&&e.viewport<=l.HEADER_FOOTER.val,"search-field__search-icon--hide":!(!e.searchFieldValue&&e.viewport>l.HEADER_FOOTER.val||!e.searchFieldValue&&!e.isDropdownVisible&&e.viewport<=l.HEADER_FOOTER.val)}}),Object($e.q)({class:"search-box__button-wrapper-close-icon"},[e.isDropdownVisible&&e.viewport<=l.HEADER_FOOTER.val&&bt({className:{"search-box__button":!0,close:!0},ariaLabel:te("searchField.close"),icon:pt()?"arrow-right":"arrow-left",id:"search-box__closebutton",onclick:Te})]),Object($e.l)({type:"text",enterkeyhint:"search",role:"combobox",name:"q",id:"ikea-search-input",maxlength:150,class:{"search-field__input":!0,"search-field__input--has-input":!!e.searchFieldValue&&(e.viewport>l.HEADER_FOOTER.val||!e.isDropdownVisible)},spellcheck:!1,"aria-label":te("searchField.inputLabel"),"aria-controls":"search-suggestions","aria-expanded":e.isDropdownVisible?"true":"false","aria-haspopup":"false",placeholder:te("searchField.label"),autocomplete:"off",value:e.searchFieldValue,oninput:(t=ge,(e,a)=>{var r;return a.target?[t,null==(r=a.target)?void 0:r.value]:e}),onfocus:_e,onblur:Se,onclick:_e}),Object($e.q)({class:{"search-box__button-wrapper":!0}},[e.isSearching&&ct({type:"spinner"}),...e.searchFieldValue.length?vt(e):[],CSS.supports("image-orientation","from-image")&&f(2)&&(!e.searchPhrase.length||!e.isDropdownVisible)&&!e.searchFieldValue.length&&gt(mt(e))])]);var t},_t=({animate:e,className:t,onclick:a})=>Object($e.e)({class:`${t||""} overlay ${e?"fade-animation":""}`,onclick:a});const ft=[`${r.baseUrl}/${r.siteFolder}/search/visual/visual1.jpg`,`${r.baseUrl}/${r.siteFolder}/search/visual/visual4.jpg`,`${r.baseUrl}/${r.siteFolder}/search/visual/visual2.jpg`,`${r.baseUrl}/${r.siteFolder}/search/visual/visual3.jpg`],yt=({isLoading:e,hasError:t,animate:a})=>(({animate:e,title:t,onClose:a,footerPart:r},s)=>Object($e.e)({class:"modal__container"},[Object($e.b)({ariaModal:"true",class:{modal:!0,"slide-animation":e}},[Object($e.j)({class:{modal__header:!0,"modal__header--no-title":!t}},[!!t&&Object($e.i)({className:"modal__title"},Object($e.r)(t)),et({ariaLabel:te("visualModal.closeIcon"),type:"button",className:"modal__cancel-button",icon:"close",onclick:a})]),Object($e.e)({class:{modal__body:!0}},s),!!r&&Object($e.f)({class:"modal__footer"},r)]),_t({animate:e,onclick:a})]))({animate:a,onClose:Ie,footerPart:t&&Object($e.e)({class:"visual__modal-error"},Object($e.r)(te("visualModal.imageErrorMessage"))),title:te("visualModal.headerText")},[Object($e.m)({class:"visual__modal-upload_button",role:"button"},[Object($e.l)({class:"sr-only",type:"file",accept:"image/*",disabled:e,onchange:(e,t)=>{var a;return[Fe,null==(a=t.target.files)?void 0:a[0]]}}),...e?[ct({color:"secondary"})]:[He({name:"camera",className:"visual__modal-upload-icon"}),Object($e.r)(te("visualModal.captureImageButtonText"))]]),Object($e.p)({class:"visual__modal-warning with-content-icon"},Object($e.r)(te("visualModal.disclaimer"))),Object($e.i)({class:"visual__modal-photo-grid-header"},Object($e.r)(te("visualModal.examplePhotosText"))),Object($e.e)({class:"visual__modal-photo-grid"},ft.map(t=>Object($e.d)({type:"button",disabled:e,class:"search-btn visual__modal-image-example",onclick:[Fe,t]},Object($e.k)({src:t})))),Object($e.e)({class:"visual__modal-explanation"},[Object($e.h)({class:"visual__modal-header-text"},Object($e.r)(te("visualModal.explanationHeader"))),Object($e.k)({src:`${r.baseUrl}/${r.siteFolder}/search/images/visual-search-placeholder.svg`,class:"visual__modal-placeholder-illustration"}),Object($e.p)(Object($e.r)(te("visualModal.explanationText")))])]);var Ot=e=>Object($e.e)({class:"notranslate","data-id":"box-mount"},[Object($e.g)({role:"search","aria-expanded":e.isDropdownVisible,action:`${r.baseUrl}/${r.siteFolder}/search/`,class:"search-box "+(e.isDropdownVisible?"active":""),onsubmit:$(ke)},[Object($e.e)({class:"search-wrapper"},wt(e)),rt(e),Object($e.a)({id:"search-box-anchor",tabIndex:-1,class:"sr-only","aria-hidden":"true"},Object($e.r)(te("a11yDropdownItem.skiplink")))]),e.isModalVisible&&yt({isLoading:e.isSearching,animate:e.animateModal,hasError:e.showVisualErrorMessage}),e.isDropdownVisible&&_t({animate:!0,className:"dropdown__overlay",onclick:$([xe,!1])})]);const Et=e=>`${e}-${r.siteFolder.split("/").join("")}`,St=(e=!1)=>{const t=Date.now();try{if(!v())return!1;Object.keys(localStorage).reduce((a,r)=>{if(r.startsWith("search-abtest")&&!r.startsWith("search-abtest-gatime")){const s=/search-abtest-(.*)-([a-z0-9]{4})/,n=r.match(s);if(n&&3===n.length){const s=`search-abtest-gatime-${n[1]}-${n[2]}`,o=parseInt(localStorage.getItem(s)||"",10);(Number.isNaN(o)||t-o>24192e5||e)&&(a.push(r),a.push(s))}}return a},[]).forEach(e=>localStorage.removeItem(e))}catch(a){c(a)}},kt=(e,t=50,a=1e3)=>{const r=new URLSearchParams(window.location.search);if(t>50)throw new Error("percent cant be larger then 50");if(r.has("seaForceAb")){const t=r.get("seaForceAb");if(!t)return!1;if([...t.split(","),...t.split(",").map(e=>e+"-impact")].includes(e.toLowerCase()))return!0}if(!f(2)||!v()||!0===window.forceABVariantA)return!1;const s=Et("search-abtest-"+e);let n=parseInt(localStorage.getItem(s)||"",10);const o=Date.now(),i=Et("search-abtest-gatime-"+e);if(Number.isNaN(n)){n=Math.floor(100*Math.random());try{if(y(s,n.toString()),n.toString()!==O(s))return!1}catch(d){return y(i,o.toString()),!1}}let c;n<t?c="A":n>99-t?c="B":(y(i,o.toString()),c="A");const l=parseInt(localStorage.getItem(i)||"",10);return(Number.isNaN(l)||o-l>18e5)&&(window._uxa=window._uxa||[],window._uxa.push(["trackDynamicVariable",{key:"search-abtest-"+e,value:c}]),_({event_category:"ab_test",event_action:"search",non_interaction:!0,custom:{version:`SEA-${e}-${c}`}})?y(i,o.toString()):(y(i,(o-18e5).toString()),setTimeout(()=>kt(e,t,2*a),a))),"B"===c},xt=e=>{document.activeElement instanceof HTMLElement&&-1!==document.activeElement.className.indexOf("search-field__input")&&e.target instanceof HTMLElement&&-1===e.target.className.indexOf("search-field__input")&&document.activeElement.blur()},jt=()=>(document.body.addEventListener("touchstart",xt),()=>{document.body.removeEventListener("touchstart",xt)});const It=(e,t)=>{const a=document.querySelector("body"),r=document.querySelector(".hnf-header, .header"),s=document.querySelector('[data-namespace="search-box"]'),n=document.querySelector("html"),o=["search-box-dropdown-open","noscroll"];return a&&a instanceof HTMLElement&&r&&r instanceof HTMLElement&&s&&s instanceof HTMLElement&&(t.modal?(a.classList.add(...o),null==n||n.classList.add(...o),r.classList.add("search-box-open"),s.classList.add("active")):(a.classList.remove(...o),null==n||n.classList.remove(...o),r.classList.remove("search-box-open"),s.classList.remove("active"))),()=>{}};var Lt=a(6);const Tt=e=>{let t=null;const a=t=>{"Escape"===t.key&&e(Ie)};return document.addEventListener("keydown",a),Promise.resolve().then(()=>requestAnimationFrame(()=>{const e=document.querySelector('[data-namespace="search-box"] .modal__container');e&&(t=Object(Lt.a)(e,{clickOutsideDeactivates:!0,escapeDeactivates:!0}),t.activate())})),()=>{t&&t.deactivate(),document.removeEventListener("keydown",a)}};function Nt(){return(Nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const At={};var Ct=(e,t,a)=>{if(!f(2)||!v())return!1;const r=Object.fromEntries(a.map(e=>[e,t[e]]));return e in At||(At[e]=(e=>{let t=!0;return(a,r)=>{if(t){let r=localStorage.getItem(e);r&&requestAnimationFrame(()=>{a(e=>Nt({},e,JSON.parse(r)))}),t=!1}else localStorage.setItem(e,JSON.stringify(r));return()=>{}}})(e)),[At[e],r]};const Rt=[{x:0,y:-1,key:"ArrowUp"},{x:0,y:1,key:"ArrowDown"},{x:-1,y:0,key:"ArrowLeft"},{x:1,y:0,key:"ArrowRight"}];let Ft=!1,Dt=!1;var Mt=(e,t,a)=>{const r={x:0,y:-1};let s=[];const n=()=>{r.x=0,r.y=-1},o=n=>{if(s=[],Array.prototype.forEach.call(t.querySelectorAll(a),(e,t)=>{s[t]||(s[t]=[]),s[t].push(...Array.from(e.querySelectorAll("a:not(.search-results__clear)")))}),s.forEach(e=>e.forEach(e=>e.classList.remove("active"))),"ArrowUp"!==n.key&&"ArrowDown"!==n.key||n.preventDefault(),"ArrowUp"===n.key||"ArrowDown"===n.key||"ArrowLeft"===n.key||"ArrowRight"===n.key){const t=Rt.find(e=>e.key===n.key);if(t){const a={x:r.x+t.x,y:r.y+t.y};if(0===a.x&&-1===a.y)return r.x=a.x,void(r.y=a.y);if(s[a.x]&&(document.activeElement!==e&&(r.x=a.x),0!==t.y&&(a.y>=s[r.x].length||-1===a.y)?(r.x+t.y>s.length-1?r.x=0:r.x+=t.y,1===t.y?r.y=0:r.y=s[r.x].length-1):a.y>=s[r.x].length?r.y=s[r.x].length-1:a.y>=0&&(0!==t.x&&2===r.x?r.y=0:r.y=a.y)),r.x>=0&&r.y>=0){const e=s[r.x][r.y],t=document.createEvent("HTMLEvents");t.initEvent("select",!1,!0),e.dispatchEvent(t),e.classList.add("active")}}}r.x>=0&&r.y>=0&&"Enter"===n.key&&(n.preventDefault(),s[r.x][r.y].click()),0!==r.y||Ft||(_({event_category:"search_box_actions",event_action:"keyboard_nav_vertical_shift"}),Ft=!0),r.x>0&&_({event_category:"search_box_actions",event_action:"keyboard_nav_column_shift"}),"Enter"===n.key&&r.y>-1&&!Dt&&(_({event_category:"search_box_actions",event_action:"keyboard_nav_enter_press"}),Dt=!0)};return e.addEventListener("input",n),document.addEventListener("keydown",o),{deactivate(){e.removeEventListener("input",n),document.removeEventListener("keydown",o)}}};const Vt=e=>{const t=t=>{var a,r,s,n,o,i;const c="Escape"===t.key,l="Tab"===t.key,d=t.shiftKey,u=null==(a=document.activeElement)?void 0:a.id.includes("search-box__closebutton"),h=null==(r=document.activeElement)?void 0:r.id.includes("clear-input"),b=null==(s=document.activeElement)?void 0:s.id.includes("search-box__searchbutton"),p=null==(n=document.activeElement)?void 0:n.id.includes("search-box__visualsearch"),m=null==(o=document.activeElement)?void 0:o.className.includes("search-field__input"),v=null==(i=document.activeElement)?void 0:i.className.includes("widget__cancel-button"),g=document.getElementsByClassName("visual-search__widget")[0];(c||l&&!d&&b||l&&!d&&p&&!g||l&&!d&&v&&g||l&&!d&&!m&&!p&&!g&&!h||l&&d&&u||l&&d&&m)&&e(xe,!1)};document.addEventListener("keydown",t,!0);let a=null;return Promise.resolve().then(()=>{requestAnimationFrame(()=>{const e=document.querySelector('[data-namespace="search-box"] .search-box .dropdown'),t=document.querySelector('[data-namespace="search-box"] .search-field__input');e&&t&&(a=Mt(t,e,".search-results__container > .search-results__list"))})}),()=>{a&&a.deactivate(),document.removeEventListener("keydown",t,!0)}};const Pt=(e,t)=>{const a=()=>{e(t.action)};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},Ut=(e=>{const{debounce:t}=m(e),a=(e,{action:a,payload:r})=>{t(()=>{e(a,r)})};return e=>(t,r)=>[t,[a,{action:e,payload:r}]]})(50),zt=()=>{const e=document.querySelector(".search-box");return e&&document.documentElement.style.setProperty("--box-bottom",e.getBoundingClientRect().bottom+"px"),()=>{}};var $t=e=>{return[H({watch:e.searchPhrase,name:"searchphrasechanged",getDetail:e=>({searchPhrase:e})}),(r=e.isModalVisible||e.isDropdownVisible,[It,{modal:r}]),Ct("search-box",e,["visualSearchWidget"]),(t="searchstatechanged",a=(e,t)=>[we,t.query.q],[B,{name:t,action:a}]),e.isDropdownVisible&&[jt,null],e.isDropdownVisible&&[Vt,{}],e.isDropdownVisible&&[zt,null],(e.isModalVisible||e.animateModal)&&[Tt,{}],[Pt,{action:Ut(ze)}]];var t,a,r};function Kt(){return(Kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}(async e=>{try{var t;if(new URLSearchParams(window.location.search).has("seaRtl"))null==(t=document.querySelector("html"))||t.setAttribute("dir","rtl");const s=document.querySelector('[data-namespace="search-box"] [data-id="box-mount"]')?document.querySelector('[data-namespace="search-box"] [data-id="box-mount"]'):document.querySelector('[data-namespace="search-box"] input'),n=document.querySelector('[data-namespace="search-box"] input');if(s){var a;await new Promise(e=>{if("object"==typeof window.ikea&&window.ikea.cookieConsent){let t;const a=()=>{t&&window.cancelAnimationFrame(t),"unknown"===window.ikea.cookieConsent.vendor?t=window.requestAnimationFrame(()=>a()):e(null)};a()}else e(null)});const t=e({init:Kt({},u,{searchPhrase:null!=(a=null==n?void 0:n.value)?a:""}),view:Ot,node:s,subscriptions:$t});requestAnimationFrame(()=>{const e=window.location.search.match(/q=([^&]*)/);e&&e[1]&&t(we,decodeURIComponent(e[1]));const a=document.getElementById("ikea-search-input");a&&a.setAttribute("autocorrect","off")});[].forEach(e=>kt(e)),document.addEventListener("ikeaCookieConsent",()=>{if(!window.ikea.cookieConsent.hasConsent(2)){const e=r.siteFolder.replace("/","");St(!0),(e=>{v()&&localStorage.removeItem("search-sik-session-"+e)})(e),(e=>{v()&&(localStorage.removeItem("search-sik-usergroup-"+e),localStorage.removeItem("search-sik-usergroup-ga-time-"+e))})(e)}});const o=new URLSearchParams(window.location.search);g()&&(o.has("seaForceAb")&&window.sessionStorage.setItem("seaForceAb","&seaForceAb="+o.get("seaForceAb")),o.has("sikForceAb")&&window.sessionStorage.setItem("sikForceAb","&sikForceAb="+o.get("sikForceAb"))),St()}}catch(s){c(s,{functionName:"index.js"})}})(a(3).a)}]);
//# sourceMappingURL=box.9d4f82e2.js.map